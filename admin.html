<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù„ÙˆØ­Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø¶Ø§ÙŠØ§</title>
<link href="https://fonts.googleapis.com/css2?family=Reem+Kufi+Ink:wght@700&display=swap" rel="stylesheet">
<style>
body {
  font-family: "Reem Kufi Ink", sans-serif;
  background-color: #172630;
  color: #fff;
  margin: 0;
  padding: 20px;
}
.container {
  max-width: 600px;
  margin: auto;
  background-color: #10243b;
  padding: 20px;
  border-radius: 15px;
  border: 2px solid #c8a44d;
}
h2 { text-align: center; color: #c8a44d; }
form { display: flex; flex-direction: column; gap: 12px; margin-top: 20px; }
input { padding: 10px; border-radius: 10px; border: 1px solid #c8a44d; background-color: #172630; color: #fff; font-size: 1rem; text-align: right; }
button { padding: 12px; border-radius: 12px; border: 2px solid rgba(200, 164, 77, 0.7); background: rgba(255, 255, 255, 0.1); color: #c8a44d; font-weight: bold; cursor: pointer; backdrop-filter: blur(8px); transition: all 0.3s ease; }
button:hover { background: rgba(255,255,255,0.2); transform: scale(1.03); }
#message { margin-top: 15px; font-weight: bold; color: #c8a44d; }
</style>
</head>
<body>
<div class="container">
  <h2>Ù„ÙˆØ­Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø¶Ø§ÙŠØ§ âš–ï¸</h2>
  
  <form id="adminForm">
    <input type="text" id="fullName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ" required>
    <input type="tel" id="nationalID" placeholder="Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù‚ÙˆÙ…ÙŠ" required>
    <input type="tel" id="caseNumber" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‚Ø¶ÙŠØ©" required>
    <input type="tel" id="caseYear" placeholder="Ø³Ù†Ø© Ø§Ù„Ù‚Ø¶ÙŠØ©" required>
    <input type="text" id="caseType" placeholder="Ù†ÙˆØ¹ Ø§Ù„Ù‚Ø¶ÙŠØ©" required>
    <input type="text" id="lastAction" placeholder="Ø¢Ø®Ø± Ø¥Ø¬Ø±Ø§Ø¡ ØªÙ…" required>
    <input type="date" id="lastUpdate" placeholder="ØªØ§Ø±ÙŠØ® Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«" required>
    <button type="submit">Ø¥Ø¶Ø§ÙØ© / ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø¶ÙŠØ©</button>
  </form>
  
<div id="message"></div>
<button id="goHomeAdminBtn">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ğŸ </button>
<script>
// ÙÙˆØ±Ù… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
const form = document.getElementById('adminForm');
const message = document.getElementById('message');

form.addEventListener('submit', function(e){
  e.preventDefault();

  // Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù‚ÙŠÙ…
  const newCase = {
    fullName: document.getElementById('fullName').value.trim(),
    nationalID: document.getElementById('nationalID').value.trim(),
    caseNumber: document.getElementById('caseNumber').value.trim(),
    caseYear: document.getElementById('caseYear').value.trim(),
    caseType: document.getElementById('caseType').value.trim(),
    lastAction: document.getElementById('lastAction').value.trim(),
    lastUpdate: document.getElementById('lastUpdate').value
  };

  // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø¶Ø§ÙŠØ§ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© Ù…Ù† localStorage
  let storedCases = localStorage.getItem('casesData');
  storedCases = storedCases ? JSON.parse(storedCases) : [];

  // Ø§Ù„Ø¨Ø­Ø« Ø¥Ø°Ø§ Ø§Ù„Ù‚Ø¶ÙŠØ© Ù…ÙˆØ¬ÙˆØ¯Ø© Ù…Ø³Ø¨Ù‚Ù‹Ø§
  const index = storedCases.findIndex(c => c.nationalID === newCase.nationalID && c.caseNumber === newCase.caseNumber && c.caseYear === newCase.caseYear);
  if(index > -1){
    storedCases[index] = newCase; // ØªØ­Ø¯ÙŠØ«
    message.textContent = 'ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø¶ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­ âœ…';
  } else {
    storedCases.push(newCase); // Ø¥Ø¶Ø§ÙØ© Ø¬Ø¯ÙŠØ¯Ø©
    message.textContent = 'ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚Ø¶ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­ âœ…';
  }

  // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
  localStorage.setItem('casesData', JSON.stringify(storedCases));

  // Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø§Ù„ÙÙˆØ±Ù…
  form.reset();
});
document.getElementById('goHomeAdminBtn').addEventListener('click', () => {
  window.location.href = 'index.html'; // Ø±Ø§Ø¨Ø· ØµÙØ­Ø© Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù‚Ø¶Ø§ÙŠØ§
});
</script>
</body>
</html>
